{"version":3,"sources":["location_api.js","dom.js","weather_api.js","index.js"],"names":["LocationApi","fetch","method","then","res","status","json","Promise","reject","ip","Dom","preloader","document","getElementById","location","city","style","opacity","coordinates","innerHTML","WeatherApi","api","сity_name","temp","setTemp","Math","round","abs","main","locationApi","dom","weather","btn2","showPreloader","getMyIp","getMyLocation","hidePreloader","setCoordinates","catch","eror","console","log","getMyWeather","setWeather"],"mappings":"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","file":"lesson_21 example.63a60f7a.map","sourceRoot":"..","sourcesContent":["export default class LocationApi {\n  getMyIp() {\n    return fetch('https://api.ipify.org?format=json', {\n      method: 'GET',\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n          \n        }\n\n        return Promise.reject(res.status);\n      });\n  }\n\n  getMyLocation(ip) {\n    return fetch(`https://freegeoip.net/json/${ip}`, {\n      method: 'GET',\n     \n    })\n    \n      .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n        }\n\n        return Promise.reject(res.status);\n      });\n  }\n}\n\n","export default class Dom {\n  constructor() {\n    this.preloader = document.getElementById('preloader');\n    this.location = document.getElementById('location');\n    this.city = document.getElementById('city');\n  }\n\n  showPreloader() {\n    this.preloader.style.opacity = 1;\n    this.location.style.opacity = 0;\n  }\n\n  hidePreloader() {\n    this.preloader.style.opacity = 0;\n    this.location.style.opacity = 1;\n  }\n\n  setCoordinates(coordinates) {\n    // this.location.innerHTML = coordinates;\n    city.innerHTML = coordinates.city;\n    // this.city.innerHTML = res.city;\n\n  }\n\n}","export default class WeatherApi {\r\n    constructor() {\r\n        this.api = 'd6c8367bf64b6e1c5dc9fa151ad10528';\r\n        this.сity_name = \"Poltava\";\r\n        this.temp = document.getElementById('temp');\r\n    }\r\n\r\n    getMyWeather() {\r\n      return fetch(`https://api.openweathermap.org/data/2.5/weather?q=${this.сity_name}&appid=${this.api}`)\r\n      \r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            return res.json();\r\n          }\r\n  \r\n          return Promise.reject(res.status);\r\n\r\n        });\r\n      }\r\n        setWeather(setTemp) {\r\n          this.temp.innerHTML = Math.round(Math.abs(setTemp.main.temp - 273.15)) + ' &#8451;';;\r\n        }\r\n    }","import LocationApi from './location_api';\nimport Dom from './dom';\nimport WeatherApi from './weather_api';\n\n\nconst locationApi = new LocationApi();\nconst dom = new Dom();\nconst weather = new WeatherApi();\nconst btn2 = document.getElementById('btn2');\n\ndom.showPreloader();\nlocationApi.getMyIp()\n  .then((res) => {\n    return locationApi.getMyLocation(res.ip)\n  })\n  .then((res) => {\n    dom.hidePreloader();\n    dom.setCoordinates(res);\n  })\n  .catch((eror) => {\n    console.log(eror);\n  });\n\n    weather.getMyWeather()\n    .then((res) => {\n      return weather.setWeather(res);\n\n    })\n    .catch((eror) => {\n      console.log(eror);\n    });\n\n    // btn2.addEventListener('click', () => {\n\n    // });"]}